// Atlas configuration for ent integration tests.
// This file is used to configure Atlas CLI for SQL Server migrations,
// since the open-source Atlas Go library does not support SQL Server.

// The schema.sql file is generated by inspecting an existing SQL Server database
// that has the ent schema applied. To regenerate it, run:
// atlas schema inspect -u "sqlserver://sa:P@ssw0rd!@localhost:1434?database=master&encrypt=disable" --format '{{ sql . }}' > schema.sql

env "sqlserver" {
  src = "file://schema.sql"
  // Dev database for SQL Server - uses docker driver.
  dev = "docker://sqlserver/2022-latest"
}

env "sqlserver_2019" {
  src = "file://schema.sql"
  dev = "docker://sqlserver/2019-latest"
}

env "sqlserver_2022" {
  src = "file://schema.sql"
  dev = "docker://sqlserver/2022-latest"
}

env "sqlserver_2025" {
  src = "file://schema.sql"
  dev = "docker://sqlserver/2025-latest"
}
